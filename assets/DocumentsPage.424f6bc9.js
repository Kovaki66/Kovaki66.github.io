import{u as j,Q as I,g as L,a as M,b as E,c as F,d as O}from"./document-store.d00b8440.js";import{Q as N}from"./QBtn.7ad70452.js";import{c as y,d as U,r as d,w as A,o as H,h as c,T as W,Q as G,v as J,L as K,M as X,P as f,z as k,A as p,B as x,N as v,C as w,O as Y,R as Z,S as ee,U as te,V as ie}from"./index.d1822a1a.js";import{a as ne}from"./QIcon.0bae196a.js";import"./use-form.9c11f92d.js";import"./axios.d2933d60.js";const ae={ratio:[String,Number]};function le(e,o){return y(()=>{const s=Number(e.ratio||(o!==void 0?o.value:void 0));return isNaN(s)!==!0&&s>0?{paddingBottom:`${100/s}%`}:null})}const oe=16/9;var se=U({name:"QImg",props:{...ae,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:oe},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:o,emit:s}){const h=d(e.initialRatio),g=le(e,h);let i=null,m=!1;const a=[d(null),d(C())],l=d(0),n=d(!1),r=d(!1),u=y(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),b=y(()=>({width:e.width,height:e.height})),Q=y(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),T=y(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));A(()=>D(),q);function D(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function C(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function q(t){i!==null&&(clearTimeout(i),i=null),r.value=!1,t===null?(n.value=!1,a[l.value^1].value=C()):n.value=!0,a[l.value].value=t}function R({target:t}){m!==!0&&(i!==null&&(clearTimeout(i),i=null),h.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,B(t,1))}function B(t,S){m===!0||S===1e3||(t.complete===!0?$(t):i=setTimeout(()=>{i=null,B(t,S+1)},50))}function $(t){m!==!0&&(l.value=l.value^1,a[l.value].value=null,n.value=!1,r.value=!1,s("load",t.currentSrc||t.src))}function P(t){i!==null&&(clearTimeout(i),i=null),n.value=!1,r.value=!0,a[l.value].value=null,a[l.value^1].value=C(),s("error",t)}function z(t){const S=a[t].value,_={key:"img_"+t,class:Q.value,style:T.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...S};return l.value===t?(_.class+=" q-img__image--waiting",Object.assign(_,{onLoad:R,onError:P})):_.class+=" q-img__image--loaded",c("div",{class:"q-img__container absolute-full",key:"img"+t},c("img",_))}function V(){return n.value!==!0?c("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ne(o[r.value===!0?"error":"default"])):c("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():e.noSpinner===!0?void 0:[c(G,{color:e.spinnerColor,size:e.spinnerSize})])}return q(D()),H(()=>{m=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const t=[];return g.value!==null&&t.push(c("div",{key:"filler",style:g.value})),r.value!==!0&&(a[0].value!==null&&t.push(z(0)),a[1].value!==null&&t.push(z(1))),t.push(c(W,{name:"q-transition--fade"},V)),c("div",{class:u.value,style:b.value,role:"img","aria-label":e.alt},t)}}}),re="/assets/documents2.e2c66efc.png";const ue={class:"row justify-between",style:{"font-size":"30px",padding:"10px",margin:"10px","border-style":"solid","border-width":"1px","border-radius":"5px"}},ce=v("div",null,"Documents",-1),de={class:"row q-gutter-md"},ge={class:"row q-gutter-sm"},me={class:"absolute-top-right z-top",style:{margin:"5px"}},fe={class:"absolute-bottom text-subtitle2 text-center"},be=J({__name:"DocumentsPage",setup(e){const o=d([]),s=K(),h=j(),g=d(""),i=async()=>{const n=await L();n&&(h.documents=n,o.value=n)},m=n=>{h.selectedDocument=n,s.push({path:`/editor/${n.id}`})},a=async n=>{f.show(),await O(n),await i(),f.hide()},l=async()=>{f.show({message:"Loading documents"}),await E({name:g.value,links:[],fileName:`${g.value}.html`}),await i(),f.hide()};return X(async()=>{f.show(),await i(),f.hide()}),(n,r)=>(k(),p(I,null,{default:x(()=>[v("div",ue,[ce,v("div",de,[w(M,{label:"Document name",modelValue:g.value,"onUpdate:modelValue":r[0]||(r[0]=u=>g.value=u)},null,8,["modelValue"]),w(N,{color:"primary",label:"Add",onClick:l})])]),v("div",ge,[(k(!0),Y(ee,null,Z(o.value,u=>(k(),p(F,{key:u.id,onClick:b=>m(u),style:{width:"100%","max-width":"200px",margin:"20px","max-height":"250px"}},{default:x(()=>[v("div",me,[w(N,{icon:"delete",color:"red-10",round:"",size:"md",onClick:te(b=>a(u.id),["stop"])},null,8,["onClick"])]),w(se,{src:re},{default:x(()=>[v("div",fe,ie(u.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])]),_:1}))}});export{be as default};
